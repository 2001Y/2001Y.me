let enTimer,jaTimer,enI,jaI,output,base="https://script.google.com/macros/s/AKfycbx0APNv1zQVNPP_7HhCl5C_OPiDtCtCl0QhtLVZQmDLWfF-7Ln2/exec?";function en(){enTimer&&clearTimeout(enTimer),enTimer=setTimeout(enF(),500)}function ja(){jaTimer&&clearTimeout(jaTimer),jaTimer=setTimeout(jaF(),500)}function enF(){enT=enInput.value,url=base+"source=en&target=ja&text="+enT,fetch(url).then((function(t){return t.json()})).then((function(t){jaT=t.text,jaInput.value=jaT;let e=enT.split("."),n=jaT.split("。"),i="";for(let t=0;t<e.length;t++){let u=e[t];i=u.includes("\n")?i+"\n"+u.trim()+".\n"+n[t].trim()+"。\n":i+u.trim()+".\n"+n[t].trim()+"。\n"}outputInput.value=i.slice(0,-4)}))}function jaF(){jaT=jaInput.value,url=base+"source=ja&target=en&text="+jaT,fetch(url).then((function(t){return t.json()})).then((function(t){enT=t.text,enInput.value=enT;let e=enT.split("."),n=jaT.split("。"),i="";for(let t=0;t<n.length;t++){let u=n[t];i=u.includes("\n")?i+"\n"+e[t].trim()+".\n"+u.trim()+"。\n":i+e[t].trim()+".\n"+u.trim()+"。\n"}outputInput.value=i.slice(0,-4)}))}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});