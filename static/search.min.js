var params=new URLSearchParams(location.search);params.get("s")&&search(params.get("s"));var body=main.outerHTML;
function search(a){a.trim()?(a=searchData(a),a=createHtml(a),showResult(a),searchResult.classList.contains("close")&&searchResult.classList.remove("close"),main.classList.contains("close")||main.classList.add("close"),categoryBox.classList.contains("none")||categoryBox.classList.add("none")):(searchResult.classList.contains("close")||searchResult.classList.add("close"),main.classList.contains("close")&&main.classList.remove("close"),categoryBox.classList.contains("none")&&categoryBox.classList.remove("none"))}
function searchData(a){var b=[];a=a.trim();if(1>a.length)return b;for(var c=new RegExp(a,"i"),d=0;d<data.length;++d){var e=data[d].body.search(c);-1!=e&&b.push([d,e,e+a.length])}return b}function createHtml(a){for(var b=[],c=0;c<a.length;++c){var d=a[c][0];b.push(createEntry(data[d].url,data[d].title,data[d].img,data[d].date,data[d].category,data[d].body,a[c][1],a[c][2]))}return b.join("")}
function createEntry(a,b,c,d,e,f,g,h){return"<a href="+a+" title="+b+'\uff5c2001Y.me><article class="post '+e+'"><svg class=post-tmb><image xlink:href="/img/'+c+format+'" width="100%" height="100%" preserveAspectRatio="xMidYMid slice" clip-path="url(#tmb)"/></svg><div class=post-data><h2>'+b+"</h2><div class=post-meta><time>"+d+"</time>\u30fb"+e+"</div><p>"+excerpt(f,g,h)+"</p></div></article></a>"}
function excerpt(a,b,c){return[a.substring(b-10,b),"<b>",a.substring(b,c),"</b>",a.substring(c,c+30)].join("")}function showResult(a){searchResult.innerHTML=a?a:"\u691c\u7d22\u7d50\u679c\u304c\u3042\u308a\u307e\u305b\u3093\u3002"};